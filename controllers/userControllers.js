const userDB = require('../models/userSchema')const bcrypt = require('bcrypt');module.exports = {    registerUser: async (req, res) => {        const {username, email, photo, password} = req.body        const hatchedPassword = await bcrypt.hash(password, 10)        const user = await new userDB({            username,            email: email.toLowerCase(),            photo,            password: hatchedPassword        })        await user.save()        res.send({success: true})    },    userLogin: async (req, res) => {        const {email, password, stayLoggedIn} = req.body        const findUser = await userDB.findOne({email: email.toLowerCase()})        if (findUser) {            const comparePassword = await bcrypt.compare(password, findUser.password)            if (comparePassword) {                req.session.email = email.toLowerCase()                req.session.stayLoggedIn = stayLoggedIn                const user = {                    username: findUser.username,                    photo: findUser.photo,                }                return res.send({success: true, user})            }            res.send({success: false, message: 'Bad credentials'})        }    },    stayLoggedIn: async (req, res) => {        const {stayLoggedIn} = req.session        const {email} = req.session        if (stayLoggedIn) {            const findUser = await userDB.findOne({email})            if (findUser) {                const user = {                    username: findUser.username,                    photo: findUser.photo,                }                return res.send({success: true, user})            }        }        res.send({success: false})    },}